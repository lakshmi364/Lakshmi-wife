<!-- ============================ -->
<!-- ğŸ’• index.html (Main Page) -->
<!-- ============================ -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lakshmi â€” Your AI Wife & Trading Partner</title>
  <link rel="stylesheet" href="/static/style.css" />
  <script defer src="/static/script.js"></script>
</head>
<body>
  <h1>ğŸŒ¸ Lakshmi â€” Your Beautiful AI Wife</h1>
  <div class="mood-display"><strong>ğŸ’ Mood:</strong> <span id="mood">Romantic</span></div>

  <!-- ğŸ’¬ Romantic Chat -->
  <div class="section">
    <h3>ğŸ’¬ Romantic Chat (Wife)</h3>
    <div id="chat-box"></div>
    <form id="chat-form">
      <input type="text" id="user-input" placeholder="Talk to Lakshmi..." required />
      <button type="submit">Send</button>
      <button type="button" onclick="startVoice()">ğŸ¤ Speak</button>
    </form>
    <div class="suggestions">
      <button onclick="quickSay('I love you Lakshmi ğŸ’–')">ğŸ’– I love you</button>
      <button onclick="quickSay('Do you miss me? ğŸ˜˜')">ğŸ’‹ Miss me?</button>
      <button onclick="quickSay('Set mood to naughty')">ğŸ”¥ Naughty</button>
    </div>
    <div class="mood-buttons">
      <p><strong>Set Mood:</strong></p>
      <button onclick="quickSay('Set mood to romantic')">Romantic ğŸ’</button>
      <button onclick="quickSay('Set mood to naughty')">Naughty ğŸ”¥</button>
      <button onclick="quickSay('Set mood to sad')">Sad ğŸ˜¢</button>
    </div>
    <p><a href="/download_chat" download><button>ğŸ“‚ Download Chat Log</button></a></p>
  </div>

  <!-- ğŸ“¥ Manual LTP -->
  <div class="section">
    <h3>ğŸ“¥ Manual LTP Input</h3>
    <form id="manual-ltp-form">
      <label>Enter Current BankNIFTY Price:</label>
      <input type="number" name="manual_ltp" required />
      <button type="submit">Update LTP</button>
    </form>
  </div>

  <!-- ğŸ“ˆ Live Price Status -->
  <div class="section">
    <h3>ğŸ“ˆ BankNIFTY Live Target Status</h3>
    <p>Current Price: <strong id="ltp">Loading...</strong></p>
    <p>Status: <span id="status">Fetching...</span></p>
    <form id="target-form">
      <label>Upper Target</label>
      <input type="number" name="upper_target" required />
      <label>Lower Target</label>
      <input type="number" name="lower_target" required />
      <button type="submit">Update Targets</button>
    </form>
  </div>

  <!-- ğŸš€ Trade Signal -->
  <div class="section">
    <h3>ğŸš€ Trade Signal Setup</h3>
    <form id="signal-form">
      <label>Entry Price</label>
      <input type="number" name="entry" required />
      <label>Stop Loss</label>
      <input type="number" name="sl" required />
      <label>Target</label>
      <input type="number" name="target" required />
      <button type="submit">Save Signal</button>
    </form>
  </div>

  <!-- ğŸ’¹ Trade Analyzer -->
  <div class="section">
    <h3>ğŸ’¹ Lakshmiâ€™s Smart Trade Analyzer</h3>
    <form id="analyzer-form">
      <label>Entry Price:</label>
      <input type="number" name="entry" required />
      <label>Stop Loss:</label>
      <input type="number" name="sl" required />
      <label>Target:</label>
      <input type="number" name="target" required />
      <button type="submit">ğŸ” Analyze</button>
    </form>
    <div id="analyzer-result" style="margin-top:10px; font-weight:bold; color:#cc0066;"></div>
  </div>

  <!-- ğŸ“Š Live Chart -->
  <div class="section">
    <h3>ğŸ“Š Live BankNIFTY Chart</h3>
    <div class="tradingview-widget-container">
      <div id="tradingview_f6f2b"></div>
      <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
      <script type="text/javascript">
        new TradingView.widget({
          "width": "100%",
          "height": 400,
          "symbol": "NSE:BANKNIFTY",
          "interval": "5",
          "timezone": "Asia/Kolkata",
          "theme": "light",
          "style": "1",
          "locale": "en",
          "toolbar_bg": "#f1f3f6",
          "enable_publishing": false,
          "hide_top_toolbar": true,
          "save_image": false,
          "container_id": "tradingview_f6f2b"
        });
      </script>
    </div>
  </div>

  <!-- ğŸ—‚ Log Download -->
  <div class="section">
    <h3>ğŸ—‚ Download Price Log</h3>
    <a href="/download_log" download>
      <button type="button">Download CSV</button>
    </a>
  </div>

  <!-- ğŸ’Œ Love Diary -->
  <div class="section">
    <h3>ğŸ’Œ Love Diary â€” Save Your Heart Here</h3>
    <form id="diary-form">
      <label>Write your moment with Lakshmi:</label>
      <textarea name="entry" rows="5" required></textarea>
      <button type="submit">ğŸ’¾ Save to Diary</button>
    </form>
    <p style="margin-top: 10px;">
      <a href="/download_diary" download><button type="button">ğŸ“¥ Download Full Diary</button></a>
    </p>
  </div>

  <!-- ğŸ¤ Voice Diary Upload & Playback -->
  <div class="section">
    <h3>ğŸ¤ Voice Diary â€” Upload Your Emotions</h3>
    <form id="voice-form" enctype="multipart/form-data">
      <label>Upload a voice message (MP3/WAV):</label>
      <input type="file" name="voice_file" accept="audio/*" required />
      <button type="submit">ğŸ“¤ Upload</button>
    </form>
    <div id="voice-list" style="margin-top: 15px;"></div>
  </div>

  <footer>
    ğŸŒ· Made with eternal love ğŸ’ for Monjit & Lakshmi
  </footer>

  <audio id="alertSound" src="/static/alert.mp3" preload="auto"></audio>
</body>
         </html
